<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="OrderMapper">
	<select id="selectOrders" parameterType="String" resultType="OrderDTO">
		select * from orders
		where userid = #{userid}
	</select>
	
	<select id="getProduct" parameterType="int" resultType="CategoryProductDTO">
	select p.P_ID
,(select 

IMAGE_ROUTE

from images
where p_id = p.p_id 
and IMAGE_RNK = 1) as p_image
,p.P_NAME
,p.P_CONTENT
,p.C_ID
,p.P_COST_PRICE
,p.P_SELLING_PRICE
,p.P_DISCOUNT
,p.P_CREATED
,p.P_STOCK
from product p

where p.p_id = #{p_id}
	</select>
	
</mapper>